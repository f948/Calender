<html>
<head>
	<style>
		table, td {
		border: 1px solid black;
		width 10px;
		}
	</style>
</head>
<body>
	<table>
	<tr>
	<td><canvas style="width:150px;height: 150px" id ="canvas" name="0"></canvas></td>
	<td><textarea style="width:150px;height: 20px" value="" name="1"></textarea><textarea style="width:150px;height: 130px" value="" name="1"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="2"></textarea><textarea style="width:150px;height: 130px" value="" name="2"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="3"></textarea><textarea style="width:150px;height: 130px" value="" name="3"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="4"></textarea><textarea style="width:150px;height: 130px" value="" name="4"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="5"></textarea><textarea style="width:150px;height: 130px" value="" name="5"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="6"></textarea><textarea style="width:150px;height: 130px" value="" name="6"></textarea></td>
  </tr>
    <tr>
	<td><textarea style="width:150px;height: 20px" value="" name="7"></textarea><textarea style="width:150px;height: 130px" value="" name="7"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="8"></textarea><textarea style="width:150px;height: 130px" value="" name="8"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="9"></textarea><textarea style="width:150px;height: 130px" value="" name="9"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="10"></textarea><textarea style="width:150px;height: 130px" value="" name="10"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="11"></textarea><textarea style="width:150px;height: 130px" value="" name="11"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="12"></textarea><textarea style="width:150px;height: 130px" value="" name="12"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="13"></textarea><textarea style="width:150px;height: 130px" value="" name="13"></textarea></td>
  </tr>
    <tr>
	<td><textarea style="width:150px;height: 20px" value="" name="14"></textarea><textarea style="width:150px;height: 130px" value="" name="14"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="15"></textarea><textarea style="width:150px;height: 130px" value="" name="15"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="16"></textarea><textarea style="width:150px;height: 130px" value="" name="16"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="17"></textarea><textarea style="width:150px;height: 130px" value="" name="17"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="18"></textarea><textarea style="width:150px;height: 130px" value="" name="18"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="19"></textarea><textarea style="width:150px;height: 130px" value="" name="19"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="20"></textarea><textarea style="width:150px;height: 130px" value="" name="20"></textarea></td>
  </tr>
  <tr>
	<td><textarea style="width:150px;height: 20px" value="" name="21"></textarea><textarea style="width:150px;height: 130px" value="" name="21"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="22"></textarea><textarea style="width:150px;height: 130px" value="" name="22"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="23"></textarea><textarea style="width:150px;height: 130px" value="" name="23"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="24"></textarea><textarea style="width:150px;height: 130px" value="" name="24"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="25"></textarea><textarea style="width:150px;height: 130px" value="" name="25"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="26"></textarea><textarea style="width:150px;height: 130px" value="" name="26"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="27"></textarea><textarea style="width:150px;height: 130px" value="" name="27"></textarea></td>
  </tr>
  <tr>
	<td><textarea style="width:150px;height: 20px" value="" name="28"></textarea><textarea style="width:150px;height: 130px" value="" name="28"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="29"></textarea><textarea style="width:150px;height: 130px" value="" name="29"></textarea></td>
	<td><textarea style="width:150px;height: 20px" value="" name="30"></textarea><textarea style="width:150px;height: 130px" value="" name="30"></textarea></td>
    <td><textarea style="width:150px;height: 20px" value="" name="31"></textarea><textarea style="width:150px;height: 130px" value="" name="31"></textarea></td>
  </tr>
  </table>
  <br>
  Choose month
  <select id="month">
	<option value="January">January</option>
	<option value="Febuary">Febuary</option>
	<option value="March">March</option>
	<option value="April">April</option>
	<option value="May">May</option>
	<option value="June">June</option>
	<option value="July">July</option>
	<option value="August">August</option>
	<option value="September">September</option>
	<option value="October">October</option>
	<option value="November">November</option>
	<option value="December">December</option>
  </select>
  <br>
  <img id="January" width="0" height="0"src="https://i.pinimg.com/originals/cc/61/7e/cc617eed54b87c8e6d218eb950a9e103.jpg">
  <img id="Febuary" width="0" height="0"src="https://fico.i.lithium.com/t5/image/serverpage/image-id/31506iA2C7AB604D0595A4?v=1.0">
  <img id="March" width="0" height="0"src="https://ourladyofsorrows.ca/site/wp-content/uploads/2019/03/March.png">
  <img id="April" width="0" height="0"src="https://www.lovethispic.com/uploaded_images/77355-Hello-April-Just-Be-Great.jpg">
  <img id="May" width="0" height="0"src="https://img1.sendscraps.com/se/may/may_009.jpg">
  <img id="June" width="0" height="0"src="https://i.pinimg.com/originals/fb/09/48/fb0948743f5467fed167044db3456524.jpg">
  <img id="July" width="0" height="0"src="https://img1.sendscraps.com/se/july/july_011.jpg">
  <img id="August" width="0" height="0"src="https://i.ytimg.com/vi/mtfbjtmdk4M/maxresdefault.jpg">
  <img id="September" width="0" height="0"src="https://thrivemeetings.com/wp-content/uploads/2019/09/Welcome-to-September-vector-background.-589569768_5070x3358-Converted.jpg">
  <img id="October" width="0" height="0"src="https://www.lovethispic.com/uploaded_images/37309-Hello-October.jpg">
  <img id="November" width="0" height="0"src="https://thumbs.dreamstime.com/b/hello-november-text-hello-november-superposed-white-letters-bright-autumnal-trees-orange-yellow-leaves-129298378.jpg">
  <img id="December" width="0" height="0"src="https://data.whicdn.com/images/89334367/original.jpg">
  <input type="button" value="Save"onclick="save()">
  <input type="button" value="Download"id="download">
  <input type="file" value="RecallFromFile"id="File">
  <script>
  
	// global variables 
	var elements;
	var userText = [["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]];
	var month="January",day;
	var img;
	var monthNum;
	var monthData = new Array();
	var textBox;
	var name;
	
	// global constants 
	const monthSelectBox = document.getElementById("month");
	const canvas = document.getElementById("canvas");
	const context = canvas.getContext('2d');
	
	var input = document.getElementById("File");
	
	input.addEventListener("change", function () {
	if (this.files && this.files[0]) {
		var myFile = this.files[0];
		var reader = new FileReader();
		var row,col,index=0;
		reader.addEventListener('load', function (e) {
			var table_contents = e.target.result.split(",");
			alert(table_contents);
			
			
			for (name=1;name<=31;name++){
				document.getElementsByName(name.toString())[1].value=table_contents[name];
			}
    });
    
    reader.readAsText(myFile);
  }   
});

	var filename,text,name;
	document.getElementById("download").addEventListener("click", function(){
		
		text = generate_text();
		name = prompt("What do you want to name the file?");
		filename = name.concat(".txt");
    
    download(filename, text);
	}, false);
	
	function download(filename, text) {
		var element = document.createElement('a');
		element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
		element.setAttribute('download', filename);

		element.style.display = 'none';
		document.body.appendChild(element);

		element.click();

		document.body.removeChild(element);
	}

	
	function generate_text(){
		var text="";
		
		for (name=1;name<=31;name++){
			text+=document.getElementsByName(name.toString())[1].value+",";
		}
		return text;
	
	}
	
	// set text boxes with the id "Empty" to read only 
	for(day=1;day<=31;day++){
	
		elements = document.getElementsByName(day.toString());
		elements[0].readOnly = true;
	
	}
	
	// show the day on each box  
	for(day=1;day<=31;day++){
	
		elements = document.getElementsByName(day.toString());
		elements[0].value =day.toString();
	
	}
	
	// change month 
	monthSelectBox.addEventListener("change",function(){
		
		if(monthSelectBox.value == "January"){
			month ="January";
			monthNum = 0;
		}
		else if(monthSelectBox.value == "Febuary"){
			month ="Febuary";
			monthNum = 1;
	
		}
		else if(monthSelectBox.value == "March"){
			month ="March";
			monthNum = 2;
	
		}
		else if(monthSelectBox.value == "April"){
			month ="April";
			monthNum = 3;
	
		}
		else if(monthSelectBox.value == "May"){
			month ="May";
			monthNum = 4;
	
		}
		else if(monthSelectBox.value == "June"){
			month ="June";
			monthNum = 5;
	
		}
		else if(monthSelectBox.value == "July"){
			month ="July";
			monthNum = 6;
	
		}
		else if(monthSelectBox.value == "August"){
			month ="August";
			monthNum = 7;
	
		}
		else if(monthSelectBox.value == "September"){
			month ="September";
			monthNum = 8;
	
		}
		else if(monthSelectBox.value == "October"){
			month ="October";
			monthNum = 9;
	
		}
		else if(monthSelectBox.value == "November"){
			month ="November";
			monthNum = 10;
	
		}
		else if(monthSelectBox.value == "December"){
			month ="December";
			monthNum = 11;
			
		}
		
		// show data in each text box 
		monthData = userText[monthNum];
		
		for(day=1;day<=31;day++){
			
			textBox = document.getElementsByName(day.toString())[1];
			
			textBox.value="";
			textBox.value=monthData[day-1];
		
		}
		

	
	});
	
	function save(){
		
		// append the data saved in each box into the array userText
		monthData = userText[monthNum];
		
		for(day=1;day<=31;day++){
			
			textBox = document.getElementsByName(day.toString())[1];
			monthData[day-1] = textBox.value;
		
		}
		
		userText[monthNum] = monthData;
		
	
	}
	
	
	function drawMonthImage(){
		
	
		img = document.getElementById(month);
		context.drawImage(img,0,0,canvas.width,canvas.height);
	
	}
	
	// redraw monthly image on canvas every 10 milliseconds 
	setInterval(drawMonthImage,10);
	
  </script>
</body>
</html>
